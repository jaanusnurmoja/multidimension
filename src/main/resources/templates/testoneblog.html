<html xmlns:th="http://www.thymeleaf.org"
      lang="en">
<head th:replace="head::htmlhead(pageTitle = 'Create Post')"></head>
<body>
<header class="rhyzz" th:include="header :: header"></header>
<main th:id="${'testoneblog'}" class="rhyzz" th:fragment="testoneblog">
    <div class="rhyzz-wrapper">
        <div class="rhyzz-bootstrap">
            <script type="86dc64a4e19322c20a32dff2-text/javascript"
                    th:src="@{/js/jquery-ui.min.js}"></script>
            <script type="86dc64a4e19322c20a32dff2-text/javascript"
                    th:src="@{/repeatable-fields/js/repeatable-fields.js?version=1.5}"></script>
            <p>
                <a href="https://github.com/Rhyzz/repeatable-fields"
                   target="_blank" class="btn btn-default">Lae algne kood alla</a>
            </p>

            <form id="blogPost" name="blogPost" action="" method="post" content="application/json">
                <div class="repeat">
                    <dl id='first' class='row'>
                        <dt class="col-sm-2 none">One id</dt>
                        <dd class="col-sm-10 none maindebug"></dd>
                        <dt class="col-sm-2 default">One title</dt>
                        <dd class="col-sm-10 default maindebug"><input type="text" name="title" class="form-control"
                                                                       value=""/></dd>
                        <dt class="col-sm-2 default">Blog post lead</dt>
                        <dd class="col-sm-10 default maindebug"><input type="textarea" name="text" class="form-control"
                                                                       value=""/></dd>
                    </dl>
                    <h4>two</h4>
                    <table class="table table-striped table-bordered">
                        <thead>
                        <tr>
                            <td width="10%" colspan="3"><span class="add btn btn-success btn-sm">Add</span></td>
                        </tr>
                        </thead>
                        <tbody class="container ui-sortable" data-rf-row-count="1">
                        <tr class="template row" style="display: none;">
                            <td width="10%">
                                <span class="move btn btn-info btn-sm"><span
                                        class="glyphicon glyphicon-sort"></span></span>
                                <span class="move-up btn btn-info btn-sm"><span
                                        class="glyphicon glyphicon-arrow-up"></span></span>
                                <input name="blogPostSubParts[{{row-count-placeholder}}][orderBy]"
                                       type="text" class="move-steps form-control" size="1" value="1">
                                <span class="move-down btn btn-info btn-sm"><span
                                        class="glyphicon glyphicon-arrow-down"></span></span>
                            </td>
                            <td width="80%">
                                <dl id=blogPostSubParts.{{row-count-placeholder}}>
                                    <dt class="col-sm-2 none childdebug">Two id</dt>
                                    <dd class="col-sm-10 none childdebug"><input type="hidden"
                                                                                 name="blogPostSubParts[{{row-count-placeholder}}][id]"
                                                                                 value=""/></dd>
                                    <dt class="col-sm-2 none childdebug">One_id</dt>
                                    <dd class="col-sm-10 none childdebug"><input type="hidden"
                                                                                 name="blogPostSubParts[{{row-count-placeholder}}][blogPost]"
                                                                                 value=""/></dd>
                                    <dt class="col-sm-2 default childdebug">Title</dt>
                                    <dd class="col-sm-10 default childdebug"><input type="text"
                                                                                    name="blogPostSubParts[{{row-count-placeholder}}][subTitle]"
                                                                                    class="form-control" value=""/></dd>
                                    <dt class="col-sm-2 default childdebug">Text</dt>
                                    <dd class="col-sm-10 default childdebug"><input type="text"
                                                                                    name="blogPostSubParts[{{row-count-placeholder}}][image]"
                                                                                    class="form-control" value=""/></dd>
                                    <dt class="col-sm-2 default childdebug">Text</dt>
                                    <dd class="col-sm-10 default childdebug"><input type="text"
                                                                                    name="blogPostSubParts[{{row-count-placeholder}}][description]"
                                                                                    class="form-control" value=""/></dd>
                                    <dt class="col-sm-2"><h4>three</h4></dt>
                                    <dd class="col-sm-10">
                                        <table class="table table-striped table-bordered">
                                            <thead>
                                            <tr>
                                                <td width="10%" colspan="3"><span
                                                        class="add btn btn-success btn-sm">Add</span></td>
                                            </tr>
                                            </thead>
                                            <tbody class="container ui-sortable" data-rf-row-count="0">
                                            <tr class="template row" style="display: none;">
                                                <td width="10%">
                                                    <span class="move btn btn-info btn-sm"><span
                                                            class="glyphicon glyphicon-sort"></span></span>
                                                    <span class="move-up btn btn-info btn-sm"><span
                                                            class="glyphicon glyphicon-arrow-up"></span></span>
                                                    <input name="blogPostSubParts[{{row-count-placeholder}}][blogPostParagraphs][{{row-count-placeholder}}][orderBy]"
                                                           type="text" class="move-steps form-control" size="1" value="1">
                                                    <span class="move-down btn btn-info btn-sm"><span
                                                            class="glyphicon glyphicon-arrow-down"></span></span>
                                                </td>
                                                <td width="80%">
                                                    <dl id="blogPostParagraphs.{{row-count-placeholder}}">
                                                        <dt class="col-sm-2 none childdebug">Paragraph id</dt>
                                                        <dd class="col-sm-10 none childdebug"><input type="hidden"
                                                                                                     name="blogPostSubParts[{{row-count-placeholder}}][blogPostParagraphs][{{row-count-placeholder}}][id]"
                                                                                                     value=""/></dd>
                                                        <dt class="col-sm-2 none childdebug">Blogpost subpart</dt>
                                                        <dd class="col-sm-10 none childdebug"><input type="hidden"
                                                                                                     name="blogPostSubParts[{{row-count-placeholder}}][blogPostParagraphs][{{row-count-placeholder}}][blogPostSubPart]"
                                                                                                     value=""/></dd>
                                                        <dt class="col-sm-2 default childdebug">Paragraph</dt>
                                                        <dd class="col-sm-10 default childdebug"><input type="text"
                                                                                                        name="blogPostSubParts[{{row-count-placeholder}}][blogPostParagraphs][{{row-count-placeholder}}][text]"
                                                                                                        class="form-control"
                                                                                                        value=""/></dd>
                                                    </dl>
                                                </td>
                                                <td width="10%"><span class="remove btn btn-danger btn-sm">Remove</span>
                                                </td>
                                            </tr>
                                        </table>
                                    </dd>
                                </dl>
                            </td>
                            <td width="10%"><span class="remove btn btn-danger btn-sm">Remove</span></td>
                        </tr>
                    </table>
                </div>
                <p>Submit this form to view the data.</p>
                <div id="deleteIntro" class="alert alert-warning" role="alert" style="display:none">YOU ARE ABOUT TO
                    DELETE SOME DATA:
                </div>
                <div id="delete" class="alert alert-warning" role="alert" style="display:none">
                </div>
                <div id="deleteOutro" class="alert alert-warning" role="alert" style="display:none">
                    FORM SUBMISSION WILL PROCEED DELETION. IF THIS IS INTENTIONAL CLICK SUBMIT, OTHERWISE LEAVE OR
                    RELOAD THE FORM.<p>
                </div>
                <input type="submit" class="btn btn-primary" value="Submit"></form>
            <script type="86dc64a4e19322c20a32dff2-text/javascript">
				jQuery(function() {
					jQuery('.repeat').each(function() {
						jQuery(this).repeatable_fields({
							wrapper: 'table',
							container: 'tbody',
						});
					});
				});




            </script>
            <script type="86dc64a4e19322c20a32dff2-text/javascript">
                /**
                 * Retrieves input data from a form and returns it as a JSON object.
                 */

                $("#one").submit(function(event){
                    event.preventDefault();
                    var formHTML = document.getElementById('one');
                    var data = $('#one').serializeJSON({parseNumbers:true,useIntKeysAsArrayIndex:true});
                    var jsonData = JSON.stringify(data);
                    console.log("Data: " + jsonData);
                    $.post("/multidimension/blog/create", jsonData, function(data){
                    alert("Data: " + jsonData + "\nStatus: " + data);
                    });
                });



            </script>
        </div>
    </div>
</main>
<footer th:include="footer :: footer"></footer>

<script
        th:src="@{'https://ajax.cloudflare.com/cdn-cgi/scripts/a2bd7673/cloudflare-static/rocket-loader.min.js'}"
        data-cf-settings="86dc64a4e19322c20a32dff2-|49" defer="">
</script>
</body>
</html>
